<div class="container">
  <h2 class="text-center">{{ isEmployer ? "My " : "All " }} Jobs Posts</h2>
  <!-- Search Form -->

  <form [formGroup]="searchForm" class="mb-4 row">
    <div class="form-group col-sm-6">
      <label for="search">Search Jobs</label>
      <input
        id="search"
        type="text"
        class="form-control"
        formControlName="searchQuery"
        placeholder="Search by job title"
      />
    </div>
    <div class="form-group col-sm-6" *ngIf="!isEmployer">
      <label for="skills">Skills</label>
      <ng-select
        id="skills"
        [items]="skills"
        bindLabel="name"
        bindValue="name"
        [multiple]="true"
        [searchable]="true"
        [clearable]="true"
        formControlName="selectedSkills"
      >
      </ng-select>
    </div>
    <div class="form-group col-sm-4" *ngIf="!isEmployer">
      <label for="salary">Minimum Salary</label>
      <input
        id="salary"
        type="number"
        class="form-control"
        min="0"
        formControlName="minSalary"
        placeholder="Enter minimum salary"
      />
    </div>

    <div class="mt-4 col-sm-4 h-50" *ngIf="isEmployer">
      <button class="btn btn-primary mx-2" [routerLink]="['/jobs', 'new']">
        add new job
      </button>
    </div>
  </form>

  <!-- Job Cards -->
  <h3>
    {{ filteredJobs.length }} / {{ allFilteredJobs.length }} -{{ batchSize }}
  </h3>
  <div class="job-list row">
    <app-job-card
      class="col-md-4"
      *ngFor="let job of filteredJobs"
      [job]="job"
      [logedInUser]="logedInUser"
    ></app-job-card>
  </div>
  <div *ngIf="loading || isJobLoading" class="loading">Loading...</div>
  <div
    class="loading"
    *ngIf="filteredJobs.length == 0 && !isJobLoading && !loading"
  >
    No Jobs
  </div>
</div>
